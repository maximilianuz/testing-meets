<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title id="appTitle">Coordinador de Reuniones Multizona</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <main class="main-container">
    <div class="header-container">
      <h1 id="title">Coordinador de Reuniones Multizona</h1>
      <div id="lang-switcher">
        <button id="lang-es">🇪🇸</button>
        <button id="lang-en">🇺🇸</button>
      </div>
    </div>

    <div class="template-section">
      <label for="templates" id="templatesLabel">Plantillas</label>
      <div class="template-controls">
        <select id="templates"></select>
        <button id="loadTemplateBtn" title="Cargar plantilla seleccionada">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M4.5 2.5a.5.5 0 0 1 .5.5V5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5V8h-.5a.5.5 0 0 1-.5-.5V7.5h-.5a.5.5 0 0 1-.5-.5V7h-.5a.5.5 0 0 1-.5-.5V6.5h-.5a.5.5 0 0 1-.5-.5V6h-.5a.5.5 0 0 1-.5-.5V5.5h-.5a.5.5 0 0 1-.5-.5V3a.5.5 0 0 1 .5-.5h.5z"/><path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/></svg>
        </button>
        <button id="saveTemplateBtn" title="Guardar configuración actual como plantilla">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1-1H7.5a1 1 0 0 0-1 1H2zm3 4a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5z"/><path d="M7.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1a.5.5 0 0 1 .5-.5zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1zM6 4.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5zm3 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5z"/></svg>
        </button>
      </div>
    </div>

    <label for="company" id="companyLabel">Empresa</label>
    <input type="text" id="company" class="save-state"/>

    <label for="meetingTitle" id="meetingTitleLabel">Título de la reunión</label>
    <input type="text" id="meetingTitle" oninput="this.value = this.value.toUpperCase()" class="save-state"/>

    <label for="description" id="descriptionLabel">Descripción</label>
    <input type="text" id="description" class="save-state"/>

    <label for="agenda" id="agendaLabel">Agenda (un punto por línea)</label>
    <textarea id="agenda" rows="4" class="save-state"></textarea>

    <div class="form-row">
        <div class="form-group">
            <label for="hostDateTime" id="hostDateTimeLabel">Fecha y hora del anfitrión</label>
            <div class="host-time-controls">
                <input type="datetime-local" id="hostDateTime" class="save-state"/>
                <button id="suggestTimeBtn" title="Sugerir hora óptima">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M13.46 3.46a.5.5 0 0 1 .708 0l1.414 1.414a.5.5 0 0 1 0 .708l-1.414 1.414a.5.5 0 0 1-.708 0L12.05 5.586l1.414-1.414zM12.05 9.97l1.414 1.414a.5.5 0 0 1 0 .708l-1.414 1.414a.5.5 0 0 1-.708 0L9.97 12.05l1.414-1.414zM3.46 13.46a.5.5 0 0 1 0 .708l-1.414 1.414a.5.5 0 0 1-.708 0L.025 14.17a.5.5 0 0 1 0-.708l1.414-1.414a.5.5 0 0 1 .708 0zM5.586 12.05l-1.414 1.414a.5.5 0 0 1-.708 0L2.05 12.05l1.414-1.414a.5.5 0 0 1 .708 0zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zM8 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm-5.5-7.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zM11 8a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"/></svg>
                </button>
            </div>
        </div>
        <div class="form-group">
             <label for="duration" id="durationLabel">Duración (minutos)</label>
             <input type="number" id="duration" value="60" min="15" step="15" class="save-state"/>
        </div>
    </div>
    <div id="suggestion-box" class="suggestion-box"></div>


    <label for="hostCountry" id="hostCountryLabel">País del anfitrión</label>
    <select id="hostCountry" class="save-state"></select>

    <label for="link" id="linkLabel">Enlace a la videollamada</label>
    <input type="url" id="link" class="save-state"/>

    <label for="countries" id="countriesLabel">Selecciona los países participantes</label>
    <input type="text" id="searchCountry" oninput="filterCountries()" />
    <select id="countries" multiple class="save-state-multiple"></select>
    
    <label for="customTz" id="customTzLabel">Añadir zona horaria manual (IANA)</label>
    <div class="custom-tz-controls">
        <input type="text" id="customTz" placeholder="Ej: America/Vancouver, Europe/Moscow" />
        <button id="addTzBtn">+</button>
    </div>


    <div id="timezone-visualizer-container">
      <label id="visualizerLabel">Visualizador de Horarios</label>
      <div id="timezone-visualizer"></div>
    </div>

    <label for="presetGreetings" id="presetGreetingsLabel">Seleccionar un saludo final</label>
    <select id="presetGreetings" onchange="applyGreeting()"></select>

    <label for="farewell" id="farewellLabel">Mensaje de despedida</label>
    <input type="text" id="farewell" class="save-state"/>

    <div class="options-area">
        <input type="checkbox" id="compactMessage" name="compactMessage" class="save-state"/>
        <label for="compactMessage" id="compactMessageLabel">Generar mensaje compacto (una sola línea)</label>
    </div>
    
    <div class="main-actions">
        <button onclick="generateMessage()" id="generateButton">Generar Mensaje</button>
        <button onclick="resetForm()" id="resetButton" title="Limpiar formulario">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/>
                <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/>
            </svg>
        </button>
    </div>


    <div id="output"></div>

    <div class="share-buttons">
      <button onclick="copyToClipboard()" id="copyButton" title="Copiar mensaje">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M13,0H6A2,2,0,0,0,4,2V14a2,2,0,0,0,2,2H13a2,2,0,0,0,2-2V2A2,2,0,0,0,13,0ZM13,14H6V2H13Z"/><path d="M3,3H1A1,1,0,0,0,0,4V15a1,1,0,0,0,1,1H10a1,1,0,0,0,1-1V14H3Z"/></svg>
        COPIAR
      </button>
      <button onclick="share('whatsapp')" id="whatsappButton" aria-label="Compartir en WhatsApp" title="Compartir en WhatsApp">
        <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512" fill="currentColor">
            <path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zM223.9 439.6c-33.8 0-66.3-8.8-94.3-25.1l-6.7-4-69.8 18.3L78 358.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5c-.1 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/>
        </svg>
      </button>
      <button onclick="share('telegram')" id="telegramButton" aria-label="Compartir en Telegram" title="Compartir en Telegram">
        <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 496 512" fill="currentColor">
            <path d="M248,8C111.033,8,0,119.033,0,256S111.033,504,248,504,496,392.967,496,256,384.967,8,248,8ZM362.952,176.66c-3.732,39.215-19.881,134.378-28.1,178.3-3.476,18.584-10.322,24.816-16.948,25.425-14.4,1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25,5.342-39.5,3.652-3.777,23.12-21.2,68.23-61.443-4.14,1.444-8.651,3.245-13.731,5.55-6.817,3.064-13.629,6.126-20.44,9.188-9.042,4.056-17.845,8.12-26.649,12.184-13.5,6.239-25.869,11.942-38.235,17.651-14.934,6.89-25.2,10.334-31.462,10.334-6.426,0-10.873-3.128-15.342-9.379-4.469-6.251-8.539-16.7-12.61-26.942-4.939-12.704-9.929-25.46-14.968-38.256-4.276-10.756-8.231-15.4-11.853-15.4-3.622,0-7.38,1.571-11.237,4.718-4.469,3.622-7.843,7.38-11.236,11.237C63.952,184.86,63.952,184.86,63.952,184.86c-4.469-4.469-4.469-4.469-4.469-4.469l-11.237-11.237C55.245,166.155,59.182,163,65.808,163c6.627,0,10.873,2.571,13.629,8.121,2.756,5.55,6.13,13.629,10.1,23.816,4.817,12.184,9.686,24.368,14.453,36.157,4.767,11.789,8.837,19.378,12.22,22.569,3.383,3.191,7.453,5.1,11.523,5.1,4.07,0,8.14-1.571,12.22-4.718,19.378-14.113,32.483-25.338,45.588-36.562,8.99-7.669,17.149-14.454,24.368-20.441,7.219-5.986,13.5-11.237,18.9-15.706,6.995-5.659,10.441-8.121,10.441-8.121,0,0,4.817,2.857,9.634,5.714,2.381,1.429,4.762,2.857,7.143,4.286,2.381,1.429,4.762,2.857,7.143,4.286,2.381,1.429,4.762,2.857,7.143,4.286C329.071,153.89,350.115,165.492,362.952,176.66Z"/>
        </svg>
      </button>
    </div>

    <div class="license">
      <p id="licenseText">
        © 2025 - Herramienta desarrollada por Maximiliano.C bajo 
        <a href="https://creativecommons.org/licenses/by/4.0/deed.es" target="_blank" id="licenseLink">Licencia CC BY 4.0</a>.
      </p>
    </div>
  </main>

  <script src="script.js"></script>
</body>
</html>
