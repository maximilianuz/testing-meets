<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Coordinador de Reuniones Internacional</title>
  <script src="https://cdn.jsdelivr.net/npm/luxon@3/build/global/luxon.min.js"></script>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #e7f0f7;
      padding: 20px;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #1a1a1a;
    }
    form {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    label {
      font-weight: 600;
      display: block;
      margin-top: 15px;
    }
    input, textarea, select {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1rem;
    }
    textarea {
      resize: vertical;
      height: 100px;
    }
    button {
      background: #007bff;
      color: white;
      padding: 12px 18px;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 20px;
    }
    button:hover {
      background: #0056b3;
    }
    #preview {
      margin-top: 30px;
      padding: 20px;
      background: #f1f9ff;
      border-left: 4px solid #007bff;
      border-radius: 8px;
      white-space: pre-wrap;
    }
    .share-buttons {
      display: flex;
      gap: 10px;
      margin-top: 20px;
      max-width: 800px;
      margin-inline: auto;
    }
    .share-buttons button {
      flex: 1;
    }
    @media (max-width: 768px) {
      form, .share-buttons {
        padding: 20px;
        width: 100%;
      }
      .share-buttons {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <h1>Coordinador de Reuniones Internacional ğŸŒ</h1>
  <form id="meeting-form">
    <label>Nombre de la Empresa o Persona</label>
    <input type="text" id="nombre" required />

    <label>TÃ­tulo de la ReuniÃ³n</label>
    <input type="text" id="titulo" style="text-transform: uppercase; font-weight: bold;" required />

    <label>Comentarios</label>
    <textarea id="comentarios" required></textarea>

    <label>Link de la ReuniÃ³n</label>
    <input type="url" id="link" placeholder="https://meet.google.com/..." required />

    <label>Saludo de Despedida</label>
    <input type="text" id="saludo" required />

    <label>Fecha de la ReuniÃ³n</label>
    <input type="date" id="fecha" required />

    <label>Hora de la ReuniÃ³n</label>
    <input type="time" id="hora" required />

    <label>SeleccionÃ¡ los paÃ­ses participantes</label>
    <select id="paises" multiple size="10" required style="height:auto;">
      <optgroup label="LatinoamÃ©rica">
        <option value="Argentina|ğŸ‡¦ğŸ‡·|America/Argentina/Buenos_Aires">ğŸ‡¦ğŸ‡· Argentina</option>
        <option value="MÃ©xico|ğŸ‡²ğŸ‡½|America/Mexico_City">ğŸ‡²ğŸ‡½ MÃ©xico</option>
        <option value="Colombia|ğŸ‡¨ğŸ‡´|America/Bogota">ğŸ‡¨ğŸ‡´ Colombia</option>
        <option value="Chile|ğŸ‡¨ğŸ‡±|America/Santiago">ğŸ‡¨ğŸ‡± Chile</option>
        <option value="PerÃº|ğŸ‡µğŸ‡ª|America/Lima">ğŸ‡µğŸ‡ª PerÃº</option>
        <option value="Uruguay|ğŸ‡ºğŸ‡¾|America/Montevideo">ğŸ‡ºğŸ‡¾ Uruguay</option>
        <option value="Paraguay|ğŸ‡µğŸ‡¾|America/Asuncion">ğŸ‡µğŸ‡¾ Paraguay</option>
        <option value="Bolivia|ğŸ‡§ğŸ‡´|America/La_Paz">ğŸ‡§ğŸ‡´ Bolivia</option>
        <option value="Ecuador|ğŸ‡ªğŸ‡¨|America/Guayaquil">ğŸ‡ªğŸ‡¨ Ecuador</option>
        <option value="Venezuela|ğŸ‡»ğŸ‡ª|America/Caracas">ğŸ‡»ğŸ‡ª Venezuela</option>
        <option value="Cuba|ğŸ‡¨ğŸ‡º|America/Havana">ğŸ‡¨ğŸ‡º Cuba</option>
        <option value="Rep. Dominicana|ğŸ‡©ğŸ‡´|America/Santo_Domingo">ğŸ‡©ğŸ‡´ Rep. Dominicana</option>
      </optgroup>
      <optgroup label="AmÃ©rica del Norte">
        <option value="Estados Unidos (EST)|ğŸ‡ºğŸ‡¸|America/New_York">ğŸ‡ºğŸ‡¸ Estados Unidos (EST)</option>
        <option value="Estados Unidos (PST)|ğŸ‡ºğŸ‡¸|America/Los_Angeles">ğŸ‡ºğŸ‡¸ Estados Unidos (PST)</option>
        <option value="CanadÃ¡ (Toronto)|ğŸ‡¨ğŸ‡¦|America/Toronto">ğŸ‡¨ğŸ‡¦ CanadÃ¡ (Toronto)</option>
        <option value="CanadÃ¡ (Vancouver)|ğŸ‡¨ğŸ‡¦|America/Vancouver">ğŸ‡¨ğŸ‡¦ CanadÃ¡ (Vancouver)</option>
      </optgroup>
      <optgroup label="Europa">
        <option value="EspaÃ±a|ğŸ‡ªğŸ‡¸|Europe/Madrid">ğŸ‡ªğŸ‡¸ EspaÃ±a</option>
        <option value="Francia|ğŸ‡«ğŸ‡·|Europe/Paris">ğŸ‡«ğŸ‡· Francia</option>
        <option value="Alemania|ğŸ‡©ğŸ‡ª|Europe/Berlin">ğŸ‡©ğŸ‡ª Alemania</option>
        <option value="Italia|ğŸ‡®ğŸ‡¹|Europe/Rome">ğŸ‡®ğŸ‡¹ Italia</option>
        <option value="Reino Unido|ğŸ‡¬ğŸ‡§|Europe/London">ğŸ‡¬ğŸ‡§ Reino Unido</option>
        <option value="PaÃ­ses Bajos|ğŸ‡³ğŸ‡±|Europe/Amsterdam">ğŸ‡³ğŸ‡± PaÃ­ses Bajos</option>
        <option value="Portugal|ğŸ‡µğŸ‡¹|Europe/Lisbon">ğŸ‡µğŸ‡¹ Portugal</option>
        <option value="Suecia|ğŸ‡¸ğŸ‡ª|Europe/Stockholm">ğŸ‡¸ğŸ‡ª Suecia</option>
        <option value="Noruega|ğŸ‡³ğŸ‡´|Europe/Oslo">ğŸ‡³ğŸ‡´ Noruega</option>
      </optgroup>
      <optgroup label="Ãfrica">
        <option value="SudÃ¡frica|ğŸ‡¿ğŸ‡¦|Africa/Johannesburg">ğŸ‡¿ğŸ‡¦ SudÃ¡frica</option>
        <option value="Egipto|ğŸ‡ªğŸ‡¬|Africa/Cairo">ğŸ‡ªğŸ‡¬ Egipto</option>
        <option value="Nigeria|ğŸ‡³ğŸ‡¬|Africa/Lagos">ğŸ‡³ğŸ‡¬ Nigeria</option>
        <option value="Kenia|ğŸ‡°ğŸ‡ª|Africa/Nairobi">ğŸ‡°ğŸ‡ª Kenia</option>
        <option value="Marruecos|ğŸ‡²ğŸ‡¦|Africa/Casablanca">ğŸ‡²ğŸ‡¦ Marruecos</option>
      </optgroup>
      <optgroup label="Asia">
        <option value="China|ğŸ‡¨ğŸ‡³|Asia/Shanghai">ğŸ‡¨ğŸ‡³ China</option>
        <option value="India|ğŸ‡®ğŸ‡³|Asia/Kolkata">ğŸ‡®ğŸ‡³ India</option>
        <option value="JapÃ³n|ğŸ‡¯ğŸ‡µ|Asia/Tokyo">ğŸ‡¯ğŸ‡µ JapÃ³n</option>
        <option value="Corea del Sur|ğŸ‡°ğŸ‡·|Asia/Seoul">ğŸ‡°ğŸ‡· Corea del Sur</option>
        <option value="Tailandia|ğŸ‡¹ğŸ‡­|Asia/Bangkok">ğŸ‡¹ğŸ‡­ Tailandia</option>
        <option value="Indonesia|ğŸ‡®ğŸ‡©|Asia/Jakarta">ğŸ‡®ğŸ‡© Indonesia</option>
        <option value="Emiratos Ãrabes|ğŸ‡¦ğŸ‡ª|Asia/Dubai">ğŸ‡¦ğŸ‡ª Emiratos Ãrabes</option>
      </optgroup>
      <optgroup label="OceanÃ­a">
        <option value="Australia (Sydney)|ğŸ‡¦ğŸ‡º|Australia/Sydney">ğŸ‡¦ğŸ‡º Australia (Sydney)</option>
        <option value="Australia (Perth)|ğŸ‡¦ğŸ‡º|Australia/Perth">ğŸ‡¦ğŸ‡º Australia (Perth)</option>
        <option value="Nueva Zelanda|ğŸ‡³ğŸ‡¿|Pacific/Auckland">ğŸ‡³ğŸ‡¿ Nueva Zelanda</option>
        <option value="Fiyi|ğŸ‡«ğŸ‡¯|Pacific/Fiji">ğŸ‡«ğŸ‡¯ Fiyi</option>
      </optgroup>
    </select>

    <button type="button" onclick="generarMensaje()">Generar y Compartir</button>
  </form>

  <div id="preview"></div>

  <div class="share-buttons">
    <button onclick="copiarMensaje()">ğŸ“‹ Copiar</button>
    <button onclick="compartirWhatsApp()">ğŸŸ¢ WhatsApp</button>
    <button onclick="compartirTelegram()">ğŸ”µ Telegram</button>
  </div>

  <script>
    function generarMensaje() {
      const DateTime = luxon.DateTime;
      const nombre = document.getElementById("nombre").value;
      const titulo = document.getElementById("titulo").value.toUpperCase();
      const comentarios = document.getElementById("comentarios").value;
      const saludo = document.getElementById("saludo").value;
      const link = document.getElementById("link").value;
      const fecha = document.getElementById("fecha").value;
      const hora = document.getElementById("hora").value;
      const paisesSeleccionados = Array.from(document.getElementById("paises").selectedOptions)
        .map(opt => opt.value.split('|'));

      if (!fecha || !hora || paisesSeleccionados.length === 0) return;

      const dtOriginal = DateTime.fromISO(`${fecha}T${hora}`, { zone: 'local' });
      let horarios = `ğŸ•’ Horarios Internacionales:\n\n`;

      paisesSeleccionados.forEach(([nombrePais, bandera, zona]) => {
        const zonaLocal = dtOriginal.setZone(zona);
        horarios += `${bandera} ${nombrePais} â° ${zonaLocal.toFormat("HH:mm")} (${zonaLocal.toFormat("hh:mm a")})\n`;
      });

      const mensaje = `ğŸ“Œ *${titulo}*\nğŸ‘¤ Organiza: ${nombre}\nğŸ“ ${comentarios}\nğŸ“… Fecha: ${fecha}\nğŸ• Hora: ${hora} (hora local)\nğŸ”— Enlace: ${link}\n\n${horarios}\nğŸ’¬ ${saludo}`;

      document.getElementById("preview").innerText = mensaje;
    }

    function copiarMensaje() {
      const texto = document.getElementById("preview").innerText;
      navigator.clipboard.writeText(texto).then(() => {
        alert("Mensaje copiado al portapapeles.");
      });
    }

    function compartirWhatsApp() {
      const texto = encodeURIComponent(document.getElementById("preview").innerText);
      window.open(`https://wa.me/?text=${texto}`, '_blank');
    }

    function compartirTelegram() {
      const texto = encodeURIComponent(document.getElementById("preview").innerText);
      window.open(`https://t.me/share/url?text=${texto}`, '_blank');
    }
  </script>
</body>
</html>
