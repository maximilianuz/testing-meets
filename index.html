<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Coordinador de Reuniones Internacional</title>
  <script src="https://cdn.jsdelivr.net/npm/luxon@3/build/global/luxon.min.js"></script>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #e7f0f7;
      padding: 20px;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #1a1a1a;
    }
    form {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    label {
      font-weight: 600;
      display: block;
      margin-top: 15px;
    }
    input, textarea, select {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1rem;
    }
    textarea {
      resize: vertical;
      height: 100px;
    }
    button {
      background: #007bff;
      color: white;
      padding: 12px 18px;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 20px;
    }
    button:hover {
      background: #0056b3;
    }
    #preview {
      margin-top: 30px;
      padding: 20px;
      background: #f1f9ff;
      border-left: 4px solid #007bff;
      border-radius: 8px;
      white-space: pre-wrap;
    }
    .share-buttons {
      display: flex;
      gap: 10px;
      margin-top: 20px;
      max-width: 800px;
      margin-inline: auto;
    }
    .share-buttons button {
      flex: 1;
    }
    @media (max-width: 768px) {
      form, .share-buttons {
        padding: 20px;
        width: 100%;
      }
      .share-buttons {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <h1>Coordinador de Reuniones Internacional 🌐</h1>
  <form id="meeting-form">
    <label>Nombre de la Empresa o Persona</label>
    <input type="text" id="nombre" required />

    <label>Título de la Reunión</label>
    <input type="text" id="titulo" style="text-transform: uppercase; font-weight: bold;" required />

    <label>Comentarios</label>
    <textarea id="comentarios" required></textarea>

    <label>Link de la Reunión</label>
    <input type="url" id="link" placeholder="https://meet.google.com/..." required />

    <label>Saludo de Despedida</label>
    <input type="text" id="saludo" required />

    <label>Fecha de la Reunión</label>
    <input type="date" id="fecha" required />

    <label>Hora de la Reunión</label>
    <input type="time" id="hora" required />

    <label>Seleccioná los países participantes</label>
    <select id="paises" multiple size="10" required style="height:auto;">
      <optgroup label="Latinoamérica">
        <option value="Argentina|🇦🇷|America/Argentina/Buenos_Aires">🇦🇷 Argentina</option>
        <option value="México|🇲🇽|America/Mexico_City">🇲🇽 México</option>
        <option value="Colombia|🇨🇴|America/Bogota">🇨🇴 Colombia</option>
        <option value="Chile|🇨🇱|America/Santiago">🇨🇱 Chile</option>
        <option value="Perú|🇵🇪|America/Lima">🇵🇪 Perú</option>
        <option value="Uruguay|🇺🇾|America/Montevideo">🇺🇾 Uruguay</option>
        <option value="Paraguay|🇵🇾|America/Asuncion">🇵🇾 Paraguay</option>
        <option value="Bolivia|🇧🇴|America/La_Paz">🇧🇴 Bolivia</option>
        <option value="Ecuador|🇪🇨|America/Guayaquil">🇪🇨 Ecuador</option>
        <option value="Venezuela|🇻🇪|America/Caracas">🇻🇪 Venezuela</option>
        <option value="Cuba|🇨🇺|America/Havana">🇨🇺 Cuba</option>
        <option value="Rep. Dominicana|🇩🇴|America/Santo_Domingo">🇩🇴 Rep. Dominicana</option>
      </optgroup>
      <optgroup label="América del Norte">
        <option value="Estados Unidos (EST)|🇺🇸|America/New_York">🇺🇸 Estados Unidos (EST)</option>
        <option value="Estados Unidos (PST)|🇺🇸|America/Los_Angeles">🇺🇸 Estados Unidos (PST)</option>
        <option value="Canadá (Toronto)|🇨🇦|America/Toronto">🇨🇦 Canadá (Toronto)</option>
        <option value="Canadá (Vancouver)|🇨🇦|America/Vancouver">🇨🇦 Canadá (Vancouver)</option>
      </optgroup>
      <optgroup label="Europa">
        <option value="España|🇪🇸|Europe/Madrid">🇪🇸 España</option>
        <option value="Francia|🇫🇷|Europe/Paris">🇫🇷 Francia</option>
        <option value="Alemania|🇩🇪|Europe/Berlin">🇩🇪 Alemania</option>
        <option value="Italia|🇮🇹|Europe/Rome">🇮🇹 Italia</option>
        <option value="Reino Unido|🇬🇧|Europe/London">🇬🇧 Reino Unido</option>
        <option value="Países Bajos|🇳🇱|Europe/Amsterdam">🇳🇱 Países Bajos</option>
        <option value="Portugal|🇵🇹|Europe/Lisbon">🇵🇹 Portugal</option>
        <option value="Suecia|🇸🇪|Europe/Stockholm">🇸🇪 Suecia</option>
        <option value="Noruega|🇳🇴|Europe/Oslo">🇳🇴 Noruega</option>
      </optgroup>
      <optgroup label="África">
        <option value="Sudáfrica|🇿🇦|Africa/Johannesburg">🇿🇦 Sudáfrica</option>
        <option value="Egipto|🇪🇬|Africa/Cairo">🇪🇬 Egipto</option>
        <option value="Nigeria|🇳🇬|Africa/Lagos">🇳🇬 Nigeria</option>
        <option value="Kenia|🇰🇪|Africa/Nairobi">🇰🇪 Kenia</option>
        <option value="Marruecos|🇲🇦|Africa/Casablanca">🇲🇦 Marruecos</option>
      </optgroup>
      <optgroup label="Asia">
        <option value="China|🇨🇳|Asia/Shanghai">🇨🇳 China</option>
        <option value="India|🇮🇳|Asia/Kolkata">🇮🇳 India</option>
        <option value="Japón|🇯🇵|Asia/Tokyo">🇯🇵 Japón</option>
        <option value="Corea del Sur|🇰🇷|Asia/Seoul">🇰🇷 Corea del Sur</option>
        <option value="Tailandia|🇹🇭|Asia/Bangkok">🇹🇭 Tailandia</option>
        <option value="Indonesia|🇮🇩|Asia/Jakarta">🇮🇩 Indonesia</option>
        <option value="Emiratos Árabes|🇦🇪|Asia/Dubai">🇦🇪 Emiratos Árabes</option>
      </optgroup>
      <optgroup label="Oceanía">
        <option value="Australia (Sydney)|🇦🇺|Australia/Sydney">🇦🇺 Australia (Sydney)</option>
        <option value="Australia (Perth)|🇦🇺|Australia/Perth">🇦🇺 Australia (Perth)</option>
        <option value="Nueva Zelanda|🇳🇿|Pacific/Auckland">🇳🇿 Nueva Zelanda</option>
        <option value="Fiyi|🇫🇯|Pacific/Fiji">🇫🇯 Fiyi</option>
      </optgroup>
    </select>

    <button type="button" onclick="generarMensaje()">Generar y Compartir</button>
  </form>

  <div id="preview"></div>

  <div class="share-buttons">
    <button onclick="copiarMensaje()">📋 Copiar</button>
    <button onclick="compartirWhatsApp()">🟢 WhatsApp</button>
    <button onclick="compartirTelegram()">🔵 Telegram</button>
  </div>

  <script>
    function generarMensaje() {
      const DateTime = luxon.DateTime;
      const nombre = document.getElementById("nombre").value;
      const titulo = document.getElementById("titulo").value.toUpperCase();
      const comentarios = document.getElementById("comentarios").value;
      const saludo = document.getElementById("saludo").value;
      const link = document.getElementById("link").value;
      const fecha = document.getElementById("fecha").value;
      const hora = document.getElementById("hora").value;
      const paisesSeleccionados = Array.from(document.getElementById("paises").selectedOptions)
        .map(opt => opt.value.split('|'));

      if (!fecha || !hora || paisesSeleccionados.length === 0) return;

      const dtOriginal = DateTime.fromISO(`${fecha}T${hora}`, { zone: 'local' });
      let horarios = `🕒 Horarios Internacionales:\n\n`;

      paisesSeleccionados.forEach(([nombrePais, bandera, zona]) => {
        const zonaLocal = dtOriginal.setZone(zona);
        horarios += `${bandera} ${nombrePais} ⏰ ${zonaLocal.toFormat("HH:mm")} (${zonaLocal.toFormat("hh:mm a")})\n`;
      });

      const mensaje = `📌 *${titulo}*\n👤 Organiza: ${nombre}\n📝 ${comentarios}\n📅 Fecha: ${fecha}\n🕐 Hora: ${hora} (hora local)\n🔗 Enlace: ${link}\n\n${horarios}\n💬 ${saludo}`;

      document.getElementById("preview").innerText = mensaje;
    }

    function copiarMensaje() {
      const texto = document.getElementById("preview").innerText;
      navigator.clipboard.writeText(texto).then(() => {
        alert("Mensaje copiado al portapapeles.");
      });
    }

    function compartirWhatsApp() {
      const texto = encodeURIComponent(document.getElementById("preview").innerText);
      window.open(`https://wa.me/?text=${texto}`, '_blank');
    }

    function compartirTelegram() {
      const texto = encodeURIComponent(document.getElementById("preview").innerText);
      window.open(`https://t.me/share/url?text=${texto}`, '_blank');
    }
  </script>
</body>
</html>
